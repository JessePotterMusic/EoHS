{EOHS_LUA_FILE (<<-- summons.cfg
-- #textdomain wesnoth-Era_of_High_Sorcery
local getmetatable,ipairs,next,pairs,setmetatable,tonumber,tostring,type,unpack = getmetatable,ipairs,next,pairs,setmetatable,tonumber,tostring,type,unpack
local wesnoth,table,string,math,os,debug,helper,_,EoHS,_G,_ENV = wesnoth,table,string,math,os,debug,EoHS.helper,EoHS._,EoHS,_G,nil

EoHS.make_summoning_spell("summon_arctic_drake", {type="Drake Fighter"}, {
  name = _"Summon Arctic Drake",
  base_cost = { action_points = 6 },
  description = EoHS.summoning_spell_description(_"Arctic Drake"),
  description_addendum = _"Arctic Drakes are Drake Fighters with 20% cold/arcane resistance and 1 move/40% defense on snow and ice.",
})

EoHS.make_summoning_spell("summon_sea_serpent", {type="Sea Serpent",{"variables",{ {"EoHS",{ level_adjustment=-1 }} }}}, {
  image = { offset={x=-3,y=2} },
  base_cost = { action_points = 7 },
  description_addendum = _"These Sea Serpents start at level 2 with 74 hitpoints.",
})

EoHS.make_summoning_spell("summon_wolf", {type="Wolf"}, {
  image = { offset={x=-6,y=-5} },
  base_cost = function(parameters) return { action_points = (EoHS.skillset_realm_rank(EoHS.get_unit_skillset(EoHS.get_unit(parameters.actor_id)), "nature_magic") >= 3) and 5 or 6, mana = 15 } end,
  description_addendum = _"This spell costs 5 AP if you have a rank 3 Nature spell, otherwise 6 AP."
})

EoHS.make_summoning_spell("summon_water_serpent", {type="Water Serpent"}, {
  image = { offset={x=-6,y=-1} },
  base_cost = { action_points = 6 },
})

EoHS.make_summoning_spell("summon_gryphon", {type="Gryphon"}, {
  image = { offset={x=-1,y=-4} },
  base_cost = { action_points = 7 },
})

local necro_summon_AP_cost = function(parameters)
  return (EoHS.skillset_realm_rank(EoHS.get_unit_skillset(EoHS.get_unit(parameters.actor_id)), "necromancy") >= 3) and 5 or 6
end
local necro_summon_AP_description = _"This spell costs 5 AP if you have a rank 3 Necromancy spell, otherwise 6 AP."

EoHS.make_summoning_spell("summon_vampire_bat", {type="Vampire Bat"}, {
  base_cost = function(parameters) return { action_points = necro_summon_AP_cost(parameters), mana = 13 } end,
  description_addendum = necro_summon_AP_description
})

EoHS.make_summoning_spell("summon_ghost", {type="Ghost",cost=16}, { base_cost = { action_points = 6 } })

EoHS.make_summoning_spell("summon_skeleton", {type="Skeleton"}, {
  image = { offset={x=5,y=0} },
  base_cost = function(parameters) return { action_points = necro_summon_AP_cost(parameters), mana = 15 } end,
  description_addendum = necro_summon_AP_description
})
EoHS.make_summoning_spell("summon_skeleton_archer", {type="Skeleton Archer"}, {
  image = { offset={x=-3,y=0} },
  base_cost = function(parameters) return { action_points = necro_summon_AP_cost(parameters), mana = 14 } end,
  description_addendum = necro_summon_AP_description
})

EoHS.make_summoning_spell("summon_chocobone", {type="Chocobone"}, {
  image = { offset={x=-4,y=8} },
  base_cost = { action_points = 6 },
})



--[[

table.insert(EoHS_spells, { "summon_fire_dragon", {
  is_summon = true,
  base_range = "adjacent",
  name = _"Summon Fire Dragon",
  --image = "units/monsters/fire-dragon.png~CROP(6,10,144,144)~SCALE(72,72)",
  --image = "units/monsters/fire-dragon.png~CROP(78,47,72,72)",
  image_xoffs = -45,
  image_yoffs = 18,
  { "realm_allowance", {
    realm = "evocation",
    level = 11,
  }},

  { "summon", {
    type = "Fire Dragon",
    cost = 101,
  }},
}})



table.insert(EoHS_spells, { "summon_wose", {
  is_summon = true,
  base_range = "adjacent",
  name = _"Summon Wose",
  image_xoffs = 0,
  image_yoffs = 2,
  { "realm_allowance", {
    realm = "nature_magic",
    level = 4,
  }},

  { "summon", {
    type = "Wose",
    cost = 18,
  }},
}})


table.insert(EoHS_spells, { "summon_yeti", {
  is_summon = true,
  base_range = "adjacent",
  name = _"Summon Yeti",
  image_xoffs = -6,
  image_yoffs = 8,
  { "realm_allowance", {
    realm = "nature_magic",
    level = 11,
  }},

  { "summon", {
    type = "Yeti",
    cost = 92,
  }},
}})



table.insert(EoHS_spells, { "summon_walking_corpse", {
  is_summon = true,
  base_range = "adjacent",
  name = _"Summon Walking Corpse",
  { "realm_allowance", {
    realm = "necromancy",
    level = 4,
  }},

  is_instant = true,
  fixed_price = true,

  { "summon", {
    type = "Walking Corpse",
  }},
}})

table.insert(EoHS_spells, { "summon_skeletal_dragon", {
  is_summon = true,
  base_range = "adjacent",
  name = _"Summon Skeletal Dragon",
  image_xoffs = -10,
  image_yoffs = 5,
  { "realm_allowance", {
    realm = "necromancy",
    level = 11,
  }},

  { "summon", {
    type = "Skeletal Dragon",
    cost = 86,
  }},
}})]]

>>)}
